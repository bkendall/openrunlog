{% extends 'base.html' %}

{% block content %}
<h2>Register</h2>

<div class="row">
<div class="col-lg-4">
<form id="register-form" action="/register" method="POST" class="form-horizontal">
    <div class="form-group">
        <label for="email">Email Address:</label>
        <input class="form-control" type="text" name="email" id="email" data-required="true" data-type="email"/>
    </div>

    <div class="form-group">
        <label for="display_name">Display Name:</label>
        <input class="form-control" type="text" name="display_name" id="display_name" data-required="true" data-type="alphanum" />
    </div>

    <div class="form-group">
        <label for="password">Password:</label>
        <input class="form-control" type="password" name="password" id="password" data-required="true" />
    </div>

    <div class="form-group">
        <label for="password_confirm">Password (confirm):</label>
        <input class="form-control" type="password" name="password_confirm" id="password_confirm" data-required="true" data-equalTo="#password" />
    </div>

    <div class="form-group">
        <label for="public">Public Profile:</label>
        <label class="form-control radio">
            Yes
            <input type="radio" name="public" id="public_yes" value="yes" data-required="true" />
        </label>
        <label class="form-control radio">
            No
            <input type="radio" name="public" id="public_no" value="no" data-required="true" />
        </label>
    </div>

    <div class="form-group">
        <label class="control-label" for="url">Profile URL:</label>
            <div class="form-control input-prepend" id="url-wrapper">
                <span class="add-on">/user/</span>
                <input type="text" name="url" id="url" value="" data-required="true" data-regexp="^[0-9a-z_]+$" />
            </div>
            <span class="help-block">May only include 0-9, a-z, and underscores.</span>
    </div>

    <div class="form-actions">
        <input type="submit" value="Register" name="submit" class="btn btn-primary"/>
    </div>
</form>
</div>
</div>
{% end %}

{% block bottom %}
<script type="text/javascript">
    $(document).ready(function() {
        $('#register-form').parsley({
            trigger: 'change',
            successClass: 'success',
            errorClass: 'error',
            validationMinlength: '1',
            errors: {
                classHandler: function(elem) {
                    return $(elem).parents('div.control-group').first();
                },
                errorsWrapper: '<span class="help-inline"></span>',
                errorElem: '<span></span>',
            },
        });
    });
</script>
{% end %}
